!function(){"use strict";const e="G-XXXXXXXXXX";function t(){const e=[25,50,75,100],t=new Set;let n=!1;window.addEventListener("scroll",function(){n||(window.requestAnimationFrame(function(){!function(){const n=Math.round((window.scrollY+window.innerHeight)/document.documentElement.scrollHeight*100);e.forEach(e=>{n>=e&&!t.has(e)&&(t.add(e),window.gtag&&gtag("event","scroll",{event_category:"engagement",event_label:`${e}%`,value:e}))})}(),n=!1}),n=!0)})}function n(){console.log("ðŸ“Š Inicializando Google Analytics 4..."),function(){const t=document.createElement("script");function n(){dataLayer.push(arguments)}t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=n,n("js",new Date),n("config",e,{send_page_view:!0,anonymize_ip:!0,cookie_flags:"SameSite=None;Secure"}),console.log("âœ… Google Analytics 4 inicializado")}(),setTimeout(()=>{!function(){const e=navigator.language||"unknown",t=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop";window.gtag&&gtag("set","user_properties",{preferred_language:e,device_type:t})}(),document.querySelectorAll(".button, a.button, button.button").forEach(e=>{e.addEventListener("click",function(e){const t=this.textContent.trim(),n=this.getAttribute("href")||"";window.gtag&&gtag("event","button_click",{event_category:"engagement",event_label:t,value:n})})}),document.querySelectorAll('a[href^="http"]').forEach(e=>{e.hostname!==window.location.hostname&&e.addEventListener("click",function(e){const t=this.href;window.gtag&&gtag("event","click",{event_category:"outbound",event_label:t,transport_type:"beacon"})})}),document.querySelectorAll('a[href^="mailto:"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.href.replace("mailto:","");window.gtag&&gtag("event","email_click",{event_category:"contact",event_label:t})})}),document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.href.replace("tel:","");window.gtag&&gtag("event","phone_click",{event_category:"contact",event_label:t})})}),function(){const e=document.querySelector("#form");e&&e.addEventListener("submit",function(e){window.gtag&&gtag("event","form_submit",{event_category:"engagement",event_label:"contact_form"})})}(),t(),function(){const e=Date.now();window.addEventListener("beforeunload",function(){const t=Math.round((Date.now()-e)/1e3);window.gtag&&t>5&&gtag("event","timing_complete",{name:"page_view",value:t,event_category:"engagement"})})}(),document.querySelectorAll(".social-icons a").forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("aria-label")||"Unknown";window.gtag&&gtag("event","social_click",{event_category:"social_media",event_label:t})})}),function(){const e=document.querySelector("#form-search");e&&e.addEventListener("submit",function(e){const t=this.querySelector('input[type="text"]'),n=t?t.value:"";n&&window.gtag&&gtag("event","search",{search_term:n,event_category:"engagement"})})}(),window.addEventListener("error",function(e){window.gtag&&gtag("event","exception",{description:e.message,fatal:!1})}),document.querySelectorAll('a[href*="asesoria"], a[href*="auditoria"], a[href*="outsourcing"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.textContent.trim();window.gtag&&gtag("event","service_view",{event_category:"services",event_label:t})})}),document.querySelectorAll('a[href$=".pdf"], a[href$=".doc"], a[href$=".docx"], a[href$=".zip"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.href.split("/").pop();window.gtag&&gtag("event","file_download",{event_category:"downloads",event_label:t})})}),console.log("âœ… Tracking de eventos configurado")},1e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.trackConversion=function(t){window.gtag&&gtag("event","conversion",{send_to:e+"/conversion",event_category:"conversion",event_label:t})},window.trackQuoteRequest=function(e,t){window.gtag&&gtag("event","generate_lead",{value:t,currency:"PEN",service_type:e})}}();