!function(){"use strict";const e=300,t=.1;function n(e,t){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout(()=>n=!1,t))}}function o(){const e=document.querySelector("#form");if(!e)return;const t=e.querySelectorAll("input, textarea");t.forEach(e=>{e.addEventListener("blur",function(){r(this)}),e.addEventListener("input",function(){this.classList.contains("error")&&r(this)})}),e.addEventListener("submit",async function(n){let o=!0;if(t.forEach(e=>{r(e)||(o=!1)}),!o)return void n.preventDefault();e.action&&e.action.includes("formsubmit.co")||(n.preventDefault(),await async function(e){const t=e.querySelector('button[type="submit"]'),n=t.textContent;t.disabled=!0,t.innerHTML='<span class="loader"></span> Enviando...';try{const t=new FormData(e),n=await fetch("validar.php",{method:"POST",body:t});if(!n.ok){if(405===n.status)return s("info","ğŸ“§ Para enviar su mensaje, por favor contacte directamente a: gerencia@corporacionfuentes.com o llÃ¡menos al 01 252 0652"),void e.reset();throw new Error(`Error ${n.status}`)}const o=await n.json();o.success?(s("success","Â¡Mensaje enviado exitosamente! Nos contactaremos pronto."),e.reset()):s("error",o.message||"OcurriÃ³ un error. Por favor intente nuevamente.")}catch(t){console.error("Error:",t),s("info","ğŸ“§ Para contactarnos, envÃ­e un email a: gerencia@corporacionfuentes.com<br>ğŸ“ O llÃ¡menos al: 01 252 0652 / 980 602 352"),e.reset()}finally{t.disabled=!1,t.textContent=n}}(e))})}function r(e){const t=e.value.trim();e.getAttribute("name");let n="";if(function(e){e.classList.remove("error"),e.style.borderColor="";const t=e.parentElement.querySelector(".field-error");t&&t.remove()}(e),e.hasAttribute("required")&&!t)n="Este campo es obligatorio";else if("email"===e.type&&t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(n="Ingrese un email vÃ¡lido")}else if("tel"===e.type&&t){/^[0-9]{6,}$/.test(t.replace(/[\s\-]/g,""))||(n="Ingrese un telÃ©fono vÃ¡lido")}return!n||(function(e,t){e.classList.add("error"),e.style.borderColor="#ef4444";const n=document.createElement("div");n.className="field-error",n.style.color="#ef4444",n.style.fontSize="0.875rem",n.style.marginTop="0.25rem",n.textContent=t,e.parentElement.appendChild(n)}(e,n),!1)}function s(e,t){const n=document.createElement("div");n.className=`alert alert-${e}`,n.innerHTML=t,n.style.position="fixed",n.style.top="20px",n.style.right="20px",n.style.zIndex="10000",n.style.maxWidth="400px",n.style.animation="slideInRight 0.3s ease-out",document.body.appendChild(n),setTimeout(()=>{n.style.animation="fadeOut 0.3s ease-out",setTimeout(()=>n.remove(),300)},5e3)}function a(){console.log("ğŸš€ Iniciando mejoras modernas..."),"ontouchstart"in window||navigator.maxTouchPoints>0?document.body.classList.add("touch-device"):document.body.classList.add("no-touch"),function(){let t=document.querySelector(".scroll-to-top");t||(t=document.createElement("button"),t.className="scroll-to-top",t.innerHTML="â†‘",t.setAttribute("aria-label","Volver arriba"),document.body.appendChild(t)),window.addEventListener("scroll",n(()=>{window.pageYOffset>e?t.classList.add("visible"):t.classList.remove("visible")},100)),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}(),function(){const e=document.querySelector("nav");if(!e)return;window.addEventListener("scroll",n(()=>{window.pageYOffset>100?e.classList.add("scrolled"):e.classList.remove("scrolled")},100))}(),function(){const e=document.querySelectorAll(".block-1 > div, .block-2 > div, .block-3 > div, h2, h3");if(!e.length)return;const n=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.add("animate-fade-in-up"),e.target.style.opacity="1"},100*t),n.unobserve(e.target))})},{threshold:t,rootMargin:"0px 0px -100px 0px"});e.forEach(e=>{e.style.opacity="0",n.observe(e)})}(),function(){const e=document.querySelectorAll('img[loading="lazy"]');if("loading"in HTMLImageElement.prototype)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.add("loaded"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}(),o(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}))})}),function(){const e=document.querySelector("#form-search input");if(!e)return;const t=["Buscar servicios...","AsesorÃ­a contable...","AuditorÃ­a...","ConsultorÃ­a tributaria..."];let n=0;setInterval(()=>{n=(n+1)%t.length,e.placeholder=t[n]},3e3)}(),document.querySelectorAll("[data-counter]").forEach(e=>{const t=parseInt(e.getAttribute("data-counter")),n=t/125;let o=0;const r=new IntersectionObserver(s=>{s.forEach(s=>{if(s.isIntersecting){const a=()=>{o+=n,o<t?(e.textContent=Math.ceil(o),requestAnimationFrame(a)):e.textContent=t};a(),r.unobserve(s.target)}})});r.observe(e)}),"performance"in window&&window.addEventListener("load",()=>{setTimeout(()=>{const e=window.performance.timing,t=e.loadEventEnd-e.navigationStart,n=e.responseEnd-e.requestStart;console.log("ğŸ“Š Performance Metrics:"),console.log(`â±ï¸  Page Load Time: ${t}ms`),console.log(`ğŸ”Œ Connection Time: ${n}ms`)},0)}),console.log("âœ… Mejoras modernas cargadas")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}();const style=document.createElement("style");style.textContent="\n  @keyframes fadeOut {\n    to {\n      opacity: 0;\n      transform: translateX(20px);\n    }\n  }\n  \n  input.error, textarea.error {\n    animation: shake 0.3s ease-in-out;\n  }\n  \n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-10px); }\n    75% { transform: translateX(10px); }\n  }\n",document.head.appendChild(style);